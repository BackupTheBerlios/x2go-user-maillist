<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-User] New user unable to connect from x2goclient on thin	client
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-user/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20New%20user%20unable%20to%20connect%20from%20x2goclient%20on%20thin%0A%09client&In-Reply-To=%3C2F5CAA36-20D6-47E8-B8D4-2F675337D2C1%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000516.html">
   <LINK REL="Next"  HREF="000518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-User] New user unable to connect from x2goclient on thin	client</H1>
    <B>Cool Hand</B> 
    <A HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20New%20user%20unable%20to%20connect%20from%20x2goclient%20on%20thin%0A%09client&In-Reply-To=%3C2F5CAA36-20D6-47E8-B8D4-2F675337D2C1%40gmail.com%3E"
       TITLE="[X2go-User] New user unable to connect from x2goclient on thin	client">coolh.bs at gmail.com
       </A><BR>
    <I>Mon Dec 19 13:34:37 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000516.html">[X2go-User] New user unable to connect from x2goclient on thin	client
</A></li>
        <LI>Next message: <A HREF="000518.html">[X2go-User] New user unable to connect from x2goclient on thin	client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#517">[ date ]</a>
              <a href="thread.html#517">[ thread ]</a>
              <a href="subject.html#517">[ subject ]</a>
              <a href="author.html#517">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi jean,

I had the same problem, and was because the loopback interface not coming up after thinclient boot
I solved it puting &quot;ifconfig lo up&quot; in the rc.local script inside the chroot.

I guess that the network script fails at some point because the read only filesystem.

Let me know if this work for you

Good luck And excuse my poor english.

Sent from my iPhone
On 18/12/2011, at 19:01, Jean Gottschalk &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">jean at gottschalk.us</A>&gt; wrote:

&gt;<i> Mike,
</I>&gt;<i> 
</I>&gt;<i> thanks for the quick reply. I did that, and upgraded all the x2go packages including x2goagent. Now I have these packages on the server:
</I>&gt;<i> 
</I>&gt;<i> ||/ Name                          Version                       Description
</I>&gt;<i> +++-=============================-=============================-==========================================================================
</I>&gt;<i> ii  x2goagent                     3.5.0.5-0~x2go1+squeeze~heule Special X2go-ized X agent, forked from NX-X11 (NoMachine)
</I>&gt;<i> un  x2goclient                    &lt;none&gt;                        (no description available)
</I>&gt;<i> ii  x2gognomebindings             2.0.1.4-0~x2go1+squeeze~heule Description: x2gognomebindings (GNOME mimetypes for X2go)
</I>&gt;<i> ii  x2goserver                    3.0.99.9-0~x2go1+squeeze~heul X2go server daemon scripts
</I>&gt;<i> un  x2goserver-compat             &lt;none&gt;                        (no description available)
</I>&gt;<i> ii  x2goserver-extensions         3.0.99.9-0~x2go1+squeeze~heul X2go server daemon scripts (extensions)
</I>&gt;<i> un  x2goserver-home               &lt;none&gt;                        (no description available)
</I>&gt;<i> un  x2goserver-one                &lt;none&gt;                        (no description available)
</I>&gt;<i> un  x2goserver-printing           &lt;none&gt;                        (no description available)
</I>&gt;<i> un  x2goserver-pyhoca             &lt;none&gt;                        (no description available)
</I>&gt;<i> un  x2goserver-xsession           &lt;none&gt;                        (no description available)
</I>&gt;<i> ii  x2gothinclientmanagement      1.0.1.4-0~x2go1+squeeze~heule Management tools for X2go thin client chroot server
</I>&gt;<i> 
</I>&gt;<i> Unfortunately the problem is still the same, error log on the client still the same, and server's error log is now:
</I>&gt;<i> 
</I>&gt;<i> NXAGENT - Version 3.5.0
</I>&gt;<i> Copyright (C) 2001, 2011 NoMachine.
</I>&gt;<i> 
</I>&gt;<i> See <A HREF="http://www.nomachine.com/">http://www.nomachine.com/</A> for more information.
</I>&gt;<i> Info: Agent running with pid '26451'.
</I>&gt;<i> Session: Starting session at 'Sat Dec 17 14:36:02 2011'.
</I>&gt;<i> Info: Proxy running in server mode with pid '26451'.
</I>&gt;<i> 
</I>&gt;<i> Info: Waiting for connection from 'localhost' on port '30001'.
</I>&gt;<i> Info: Aborting the procedure due to signal '1'.
</I>&gt;<i> Error: Aborting session with 'X2goagent: Unable to open display 'nx/nx,options=/home/jean/.x2go/C-jean-50-1324161360_stDGNOME_dp24/options:50''.
</I>&gt;<i> Session: Aborting session at 'Sat Dec 17 14:36:34 2011'.
</I>&gt;<i> Session: Session aborted at 'Sat Dec 17 14:36:34 2011'.
</I>&gt;<i> 
</I>&gt;<i> Note the new nxagent version reflected in the server log.
</I>&gt;<i> 
</I>&gt;<i> Any other ideas are welcome. I can do some tcpdumps if it helps, but not sure if we can see much due to the SSH...
</I>&gt;<i> 
</I>&gt;<i> Jean
</I>&gt;<i> 
</I>&gt;<i> On Sat, Dec 17, 2011 at 1:20 PM, Mike Gabriel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">mike.gabriel at das-netzwerkteam.de</A>&gt; wrote:
</I>&gt;<i> Hi Jean,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sa 17 Dez 2011 07:23:15 CET Jean Gottschalk wrote:
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I have been using freenx for a few years, and have been looking for
</I>&gt;<i> something better since freenx is no longer maintained and sound support is
</I>&gt;<i> shaky. I was very glad to find the x2go project, specially since it works
</I>&gt;<i> exactly like I imagine with diskless thin clients (I have to use USB sticks
</I>&gt;<i> to boot my current clients for freenx).
</I>&gt;<i> 
</I>&gt;<i> Anyway, after being somewhat confused by the outdated info and repositories
</I>&gt;<i> listed on x2go.org, I found the wiki and was able to install x2goserver
</I>&gt;<i> (onto Ubuntu  ) and configure a PXE thin client environment. To my
</I>&gt;<i> surprise, the thin clients booted on the first attempt and x2goclient came
</I>&gt;<i> up, which was very unexpected!
</I>&gt;<i> 
</I>&gt;<i> Now I have the following problem:
</I>&gt;<i> - I can login without problem from a windows x2goclient onto my ubuntu
</I>&gt;<i> x2goserver
</I>&gt;<i> - however any attempt to login from the pxe booted thin clients fails.
</I>&gt;<i> 
</I>&gt;<i> The client displays (after starting nxproxy 3.5)
</I>&gt;<i> Connecting to remote host 'localhost:33001'
</I>&gt;<i> And then
</I>&gt;<i> Connection timeout aborting
</I>&gt;<i> 
</I>&gt;<i> On the server I find these logs:
</I>&gt;<i> 
</I>&gt;<i> /usr/bin/x2goagent: line 1: -e: command not found
</I>&gt;<i> 
</I>&gt;<i> NXAGENT - Version 3.4.0
</I>&gt;<i> 
</I>&gt;<i> Copyright (C) 2001, 2007 NoMachine.
</I>&gt;<i> See <A HREF="http://www.nomachine.com/">http://www.nomachine.com/</A> for more information.
</I>&gt;<i> 
</I>&gt;<i> Info: Agent running with pid '24505'.
</I>&gt;<i> Session: Starting session at 'Fri Dec 16 22:11:43 2011'.
</I>&gt;<i> Info: Proxy running in server mode with pid '24505'.
</I>&gt;<i> Info: Waiting for connection from 'localhost' on port '30001'.
</I>&gt;<i> Info: Aborting the procedure due to signal '1'.
</I>&gt;<i> Error: Aborting session with 'X2goagent: Unable to open display
</I>&gt;<i> 'nx/nx,options=/home/jean/.x2go/C-jean-50-1324102301_stDGNOME_dp24/options:50''.
</I>&gt;<i> Session: Aborting session at 'Fri Dec 16 22:12:15 2011'.
</I>&gt;<i> Session: Session aborted at 'Fri Dec 16 22:12:15 2011'.
</I>&gt;<i> 
</I>&gt;<i> I understand that there is some kind of callback procedure whereby the
</I>&gt;<i> client connects to the server, and then the server connects back to the
</I>&gt;<i> client, and this seems to be failing. I do not know how else to proceed.
</I>&gt;<i> 
</I>&gt;<i> In addition to version 3.99.0.2 of x2goclient and x2goplugin (which was the
</I>&gt;<i> one installed by default in the chroot environment), I also tried version
</I>&gt;<i> 3.99.0.3 from the unstable repository, and an older 3.01-21, all with no
</I>&gt;<i> luck.
</I>&gt;<i> 
</I>&gt;<i> I am wondering if your problem is on the server side. It seems like you are using a very outdate x2goagent version.
</I>&gt;<i> 
</I>&gt;<i> If possible for you, please test our (still not final) new build of libnx. So, on the server, please install from
</I>&gt;<i> 
</I>&gt;<i> deb <A HREF="http://packages.x2go.org/debian">http://packages.x2go.org/debian</A> squeeze heuler
</I>&gt;<i> 
</I>&gt;<i> Greets,
</I>&gt;<i> Mike
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> 
</I>&gt;<i> DAS-NETZWERKTEAM
</I>&gt;<i> mike gabriel, dorfstr. 27, 24245 barmissen
</I>&gt;<i> fon: +49 (4302) 281418, fax: +49 (4302) 281419
</I>&gt;<i> 
</I>&gt;<i> GnuPG Key ID 0xB588399B
</I>&gt;<i> mail: <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">mike.gabriel at das-netzwerkteam.de</A>, <A HREF="http://das-netzwerkteam.de">http://das-netzwerkteam.de</A>
</I>&gt;<i> 
</I>&gt;<i> freeBusy:
</I>&gt;<i> <A HREF="https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb">https://mail.das-netzwerkteam.de/freebusy/m.gabriel%40das-netzwerkteam.de.xfb</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> X2go-User mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">X2go-User at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">https://lists.berlios.de/mailman/listinfo/x2go-user</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> X2go-User mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">X2go-User at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">https://lists.berlios.de/mailman/listinfo/x2go-user</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-user/attachments/20111219/470d5289/attachment.html">https://lists.berlios.de/pipermail/x2go-user/attachments/20111219/470d5289/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000516.html">[X2go-User] New user unable to connect from x2goclient on thin	client
</A></li>
	<LI>Next message: <A HREF="000518.html">[X2go-User] New user unable to connect from x2goclient on thin	client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#517">[ date ]</a>
              <a href="thread.html#517">[ thread ]</a>
              <a href="subject.html#517">[ subject ]</a>
              <a href="author.html#517">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-user">More information about the X2Go-User
mailing list</a><br>
</body></html>
