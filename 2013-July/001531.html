<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-user/2013-July/index.html" >
   <LINK REL="made" HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-User%5D%20Failure%20negotiating%20the%20session%20in%20stage%20%277%27.%20Wrong%0A%20version%20or%20invalid%20session%20authentication%20cookie.&In-Reply-To=%3CCAHeJaP%2BOMx%2BfT--LawVVp3R2T5eu4VL79oh0CZ_9HDnVd_dSSA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001529.html">
   <LINK REL="Next"  HREF="001532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.</H1>
    <B>Kjell Otto</B> 
    <A HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2Go-User%5D%20Failure%20negotiating%20the%20session%20in%20stage%20%277%27.%20Wrong%0A%20version%20or%20invalid%20session%20authentication%20cookie.&In-Reply-To=%3CCAHeJaP%2BOMx%2BfT--LawVVp3R2T5eu4VL79oh0CZ_9HDnVd_dSSA%40mail.gmail.com%3E"
       TITLE="[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.">otto.kjell at gmail.com
       </A><BR>
    <I>Mon Jul 29 08:42:23 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="001529.html">[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.
</A></li>
        <LI>Next message: <A HREF="001532.html">[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1531">[ date ]</a>
              <a href="thread.html#1531">[ thread ]</a>
              <a href="subject.html#1531">[ subject ]</a>
              <a href="author.html#1531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Roland,

sorry to let you down on this, I'm still busy doing other stuff all the
time.

The error you're getting seems to be related to your X-Server installation.
The KDE part of the agent starting is completely normal, it's just about
setting your
color depth AFAIK.

Sorry about messing arround with Master and Shadow stuff... What I ment was
this: When you're starting a GNOME session. You can just close the window
when
you're leaving the desktop. Then just start the GNOME session again once
you want
to come back. And you'll see the old one is still running and resumable.

There is another way to connect to an opened session, via the
desktopsharing feature
of x2go. But that seems unrelated...

It seems that you've messed up a part of your X or X configuration. This is
acutally
what stops your x2go client from really doing something:

check command message

X Error: BadWindow (invalid Window parameter) 3
  Major opcode: 20 (X_GetProperty)
  Resource id:  0x4004bbc
X Error: BadWindow (invalid Window parameter) 3
  Major opcode: 15 (X_QueryTree)
  Resource id:  0x4004bbc

Try to find the problem related to this. It seems that your problem is not
about
x2go...

Greetings,
Kjellski



2013/7/28 Roland Giesler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">roland at giesler.za.net</A>&gt;

&gt;<i>  On 28/07/2013 02:55, Roland Giesler wrote:
</I>&gt;<i>
</I>&gt;<i> Before continuing, I upgrade the client and server to the latest stable
</I>&gt;<i> version:
</I>&gt;<i>
</I>&gt;<i>  X2Go client 4.0.1.0 (Qt - 4.8.3)
</I>&gt;<i>
</I>&gt;<i> X2Go Server 4.0.1.5-0~709~precise1
</I>&gt;<i>
</I>&gt;<i>  After installation, I restarted the x2goserver.
</I>&gt;<i>
</I>&gt;<i> On the client, I connect to the server (client Ubuntu 12.10, server Ubuntu
</I>&gt;<i> 12.04)
</I>&gt;<i>
</I>&gt;<i> After displaying a message that a connection has been made, finally the
</I>&gt;<i> error message pops up.
</I>&gt;<i>
</I>&gt;<i> Since I started x2goclient from the command line, this output was produced:
</I>&gt;<i>
</I>&gt;<i> $ x2goclient
</I>&gt;<i> ONMainWindow constructor
</I>&gt;<i>
</I>&gt;<i> Can't load translator (:/x2goclient_en_za) !
</I>&gt;<i>
</I>&gt;<i> Can't load translator  :/qt_en_ZA
</I>&gt;<i> remove apps
</I>&gt;<i>
</I>&gt;<i> plugging apps
</I>&gt;<i>
</I>&gt;<i> ONMainWindows constructor finished, home Directory is: &quot;/home/roland&quot;
</I>&gt;<i>
</I>&gt;<i> read  1  sessions from config file
</I>&gt;<i> remove apps
</I>&gt;<i>
</I>&gt;<i> start new ssh connection to server: &quot;aaa.fff.co.za&quot; : &quot;22&quot; krb:  false
</I>&gt;<i>
</I>&gt;<i> ssh connection ok
</I>&gt;<i>
</I>&gt;<i> continue normal x2go session
</I>&gt;<i>
</I>&gt;<i> remove apps
</I>&gt;<i>
</I>&gt;<i> &quot;x2gostartagent 1440x900 adsl 16m-jpeg-9 unix-kde-depth_24 us pc105/us 1 D
</I>&gt;<i> UNITY&quot;
</I>&gt;<i>
</I>&gt;<i> Agent output: &quot;50
</I>&gt;<i> 8f9f6270723f48e0a98a21254639cf9a
</I>&gt;<i> 5177
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> 30001
</I>&gt;<i> 30002
</I>&gt;<i> 30003
</I>&gt;<i> &quot;
</I>&gt;<i> starting nxproxy with:  &quot;nxproxy -S
</I>&gt;<i> nx/nx,options=/home/roland/.x2go/S-roland-50-1375013942_stDUNITY_dp24/options:50&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &quot;
</I>&gt;<i> NXPROXY - Version 3.5.0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Copyright (C) 2001, 2011 NoMachine.
</I>&gt;<i> See <A HREF="http://www.nomachine.com/">http://www.nomachine.com/</A> for more information.
</I>&gt;<i>
</I>&gt;<i> Info: Proxy running in client mode with pid '28293'.
</I>&gt;<i> Session: Starting session at 'Sun Jul 28 14:19:00 2013'.
</I>&gt;<i> Info: Connecting to remote host 'localhost:31001'.
</I>&gt;<i> Info: Connection to remote proxy 'localhost:31001' established.
</I>&gt;<i> &quot;
</I>&gt;<i>
</I>&gt;<i> &quot;Error: The remote NX proxy closed the connection.
</I>&gt;<i> Error: Failure negotiating the session in stage '7'.
</I>&gt;<i> Error: Wrong version or invalid session authentication cookie.
</I>&gt;<i> Session: Terminating session at 'Sun Jul 28 14:19:06 2013'.
</I>&gt;<i> Session: Session terminated at 'Sun Jul 28 14:19:06 2013'.
</I>&gt;<i> &quot;
</I>&gt;<i>
</I>&gt;<i> deleting proxy
</I>&gt;<i>
</I>&gt;<i> nxproxy not running
</I>&gt;<i>
</I>&gt;<i> proxy deleted
</I>&gt;<i>
</I>&gt;<i> checking exit status
</I>&gt;<i> check command message
</I>&gt;<i>
</I>&gt;<i> X Error: BadWindow (invalid Window parameter) 3
</I>&gt;<i>   Major opcode: 20 (X_GetProperty)
</I>&gt;<i>   Resource id:  0x4004bbc
</I>&gt;<i> X Error: BadWindow (invalid Window parameter) 3
</I>&gt;<i>   Major opcode: 15 (X_QueryTree)
</I>&gt;<i>   Resource id:  0x4004bbc
</I>&gt;<i> close event
</I>&gt;<i> saving settings
</I>&gt;<i> done
</I>&gt;<i>
</I>&gt;<i> Things that I noticed above:
</I>&gt;<i>
</I>&gt;<i> 1. The line &quot;x2gostartagent 1440x900 adsl 16m-jpeg-9 unix-kde-depth_24 us
</I>&gt;<i> pc105/us 1 D UNITY&quot; seems to be asking for a KDE session despite the fact
</I>&gt;<i> that I set Gnome as the session in my client config.
</I>&gt;<i>
</I>&gt;<i> Here is my config in /home/roland/.x2goclient/sessions:
</I>&gt;<i>
</I>&gt;<i> [20130701230755080]
</I>&gt;<i> speed=2
</I>&gt;<i> pack=16m-jpeg
</I>&gt;<i> quality=9
</I>&gt;<i> fstunnel=true
</I>&gt;<i> export=
</I>&gt;<i> iconvto=UTF-8
</I>&gt;<i> iconvfrom=ISO8859-1
</I>&gt;<i> useiconv=false
</I>&gt;<i> fullscreen=false
</I>&gt;<i> width=1440
</I>&gt;<i> multidisp=false
</I>&gt;<i> display=1
</I>&gt;<i> height=900
</I>&gt;<i> dpi=96
</I>&gt;<i> setdpi=false
</I>&gt;<i> xinerama=false
</I>&gt;<i> usekbd=true
</I>&gt;<i> layout=us
</I>&gt;<i> type=pc105/us
</I>&gt;<i> sound=true
</I>&gt;<i> soundsystem=pulse
</I>&gt;<i> startsoundsystem=true
</I>&gt;<i> soundtunnel=true
</I>&gt;<i> defsndport=true
</I>&gt;<i> sndport=4713
</I>&gt;<i> print=true
</I>&gt;<i> name=Ashton
</I>&gt;<i> icon=:icons/128x128/x2gosession.png
</I>&gt;<i> host=aaa.fff.co.za
</I>&gt;<i> user=roland
</I>&gt;<i> key=
</I>&gt;<i> sshport=22
</I>&gt;<i> autologin=false
</I>&gt;<i> krblogin=false
</I>&gt;<i> rootless=false
</I>&gt;<i> published=false
</I>&gt;<i> applications=WWWBROWSER, MAILCLIENT, OFFICE, TERMINAL
</I>&gt;<i> command=GNOME
</I>&gt;<i> rdpoptions=
</I>&gt;<i> rdpserver=
</I>&gt;<i> xdmcpserver=localhost
</I>&gt;<i> maxdim=false
</I>&gt;<i> rdpclient=rdesktop
</I>&gt;<i> directrdpsettings=
</I>&gt;<i> rdpport=3389
</I>&gt;<i> directrdp=false
</I>&gt;<i> usesshproxy=false
</I>&gt;<i> sshproxytype=SSH
</I>&gt;<i> sshproxyuser=
</I>&gt;<i> sshproxykeyfile=
</I>&gt;<i> sshproxyhost=
</I>&gt;<i> sshproxyport=22
</I>&gt;<i> sshproxysamepass=false
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> At the server:
</I>&gt;<i>
</I>&gt;<i> $ ls -la /home/roland/.x2go/C-roland-50-1375019027_stDGNOME_dp24/
</I>&gt;<i> total 32
</I>&gt;<i> drwxrwxr-x  4 roland roland 4096 Jul 28 15:43 .
</I>&gt;<i> drwxrwxr-x 24 roland roland 4096 Jul 28 15:43 ..
</I>&gt;<i> drwx------  2 roland roland 4096 Jul 28 15:43
</I>&gt;<i> C-roland-50-1375019027_stDGNOME_dp24
</I>&gt;<i> drwxrwxr-x  2 roland roland 4096 Jul 28 15:43 keyboard
</I>&gt;<i> -rw-rw-r--  1 roland roland  405 Jul 28 15:43 options
</I>&gt;<i> -rw-rw-r--  1 roland roland  100 Jul 28 15:43 .pulse-client.conf
</I>&gt;<i> -rw-------  1 roland roland  256 Jul 28 15:43 .pulse-cookie
</I>&gt;<i> lrwxrwxrwx  1 roland roland   66 Jul 28 15:43 session.log -&gt;
</I>&gt;<i> /tmp/.x2go-roland/session-C-roland-50-1375019027_stDGNOME_dp24.log
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And the contents of session log above is:
</I>&gt;<i>
</I>&gt;<i> $ cat .x2go/C-roland-50-1375019027_stDGNOME_dp24/session.log
</I>&gt;<i>
</I>&gt;<i> running as X2Go Agent
</I>&gt;<i>
</I>&gt;<i> NXAGENT - Version 3.5.0
</I>&gt;<i>
</I>&gt;<i> Copyright (C) 2001, 2011 NoMachine.
</I>&gt;<i> See <A HREF="http://www.nomachine.com/">http://www.nomachine.com/</A> for more information.
</I>&gt;<i>
</I>&gt;<i> Info: Agent running with pid '27929'.
</I>&gt;<i> Session: Starting session at 'Sun Jul 28 15:43:48 2013'.
</I>&gt;<i> Info: Proxy running in server mode with pid '27929'.
</I>&gt;<i>
</I>&gt;<i> Info: Waiting for connection from 'localhost' on port '30001'.
</I>&gt;<i> Warning: Refusing connection from '192.168.1.3'.
</I>&gt;<i> Error: Connection with remote host 'localhost' could not be established.
</I>&gt;<i> Error: Aborting session with 'Unable to open display
</I>&gt;<i> 'nx/nx,options=/home/roland/.x2go/C-roland-50-1375019027_stDGNOME_dp24/options:50''.
</I>&gt;<i> Session: Aborting session at 'Sun Jul 28 15:44:38 2013'.
</I>&gt;<i> Session: Session aborted at 'Sun Jul 28 15:44:38 2013'.
</I>&gt;<i>
</I>&gt;<i> What I do notice is the &quot;refusing connection from 192.168.1.3&quot;.  This is
</I>&gt;<i> the ADSL router port, which forwards port 22 to the x2goserver.
</I>&gt;<i>
</I>&gt;<i> In the following file
</I>&gt;<i>
</I>&gt;<i> $ cat .x2go/C-roland-50-1375019027_stDGNOME_dp24/options
</I>&gt;<i>
</I>&gt;<i> nx/nx,link=adsl,pack=16m-jpeg-9,limit=0,root=/home/roland/.x2go/C-roland-50-1375019027_stDGNOME_dp24,cache=8M,images=32M,type=unix-kde-depth_24,id=roland-50-1375019027_stDGNOME_dp24,cookie=72bfbf8ddda3489cab3462411822a417,errors=/tmp/.x2go-roland/session-C-roland-50-1375019027_stDGNOME_dp24.log,kbtype=pc105/us,geometry=1440x900,resize=0,fullscreen=0,accept=localhost,listen=30001,client=linux,menu=0:50
</I>&gt;<i>
</I>&gt;<i> It seems that &quot;accept=localhost&quot; should be &quot;accept=192.168.1.3&quot;, but the
</I>&gt;<i> this file seems to be created for each session, so changing it, doesn't fix
</I>&gt;<i> the problem.
</I>&gt;<i>
</I>&gt;<i> I have added &quot;192.168.1.3 localhost&quot; to /etc/hosts as well as changed
</I>&gt;<i> /etc/x2go/x2goagent.conf as follows:
</I>&gt;<i>
</I>&gt;<i> X2GO_NXAGENT_DEFAULT_OPTIONS+=&quot; -extension GLX -from 192.168.1.3&quot;
</I>&gt;<i>
</I>&gt;<i> This doesn't seem to change the session options in
</I>&gt;<i> .x2go/C-roland-50-1375019027_stDGNOME_dp24/options
</I>&gt;<i>
</I>&gt;<i> in /var/log/syslog, the following is logged:
</I>&gt;<i>
</I>&gt;<i> Jul 28 14:17:01 Ashton CRON[4353]: (root) CMD (   cd / &amp;&amp; run-parts
</I>&gt;<i> --report /etc/cron.hourly)
</I>&gt;<i> Jul 28 14:19:01 Ashton /usr/bin/x2golistsessions[4987]: x2golistsessions
</I>&gt;<i> has been called with no option
</I>&gt;<i> Jul 28 14:19:01 Ashton /usr/bin/x2gostartagent: x2gostartagent called with
</I>&gt;<i> options: 1440x900 adsl 16m-jpeg-9 unix-kde-depth_24 us pc105/us 1 D UNITY
</I>&gt;<i> Jul 28 14:19:01 Ashton /usr/bin/x2gostartagent: client announced itself as
</I>&gt;<i> ,,105.236.170.173''
</I>&gt;<i> Jul 28 14:19:01 Ashton /usr/bin/x2gosessionlimit[5009]: x2gosessionlimit
</I>&gt;<i> has been called
</I>&gt;<i> Jul 28 14:19:01 Ashton /usr/bin/x2golistsessions[5012]: x2golistsessions
</I>&gt;<i> has been called with options: --all-servers
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2gogetdisplays[5027]: db_getdisplays
</I>&gt;<i> called, server: Ashton; return value:
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2gogetports[5036]: db_getports
</I>&gt;<i> called, server: Ashton; return value:
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2goinsertsession[5054]:
</I>&gt;<i> db_insertsession called, session ID: roland-50-1375013942_stDUNITY_dp24,
</I>&gt;<i> server: Ashton, session ID: roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2gogetports[5072]: db_getports
</I>&gt;<i> called, server: Ashton; return value:
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2goinsertport[5086]: db_insertport
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24, server: Ashton, SSH
</I>&gt;<i> port: 30001
</I>&gt;<i> Jul 28 14:19:02 Ashton /usr/lib/x2go/x2gogetports[5095]: db_getports
</I>&gt;<i> called, server: Ashton; return value: |30001|
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/lib/x2go/x2goinsertport[5109]: db_insertport
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24, server: Ashton, SSH
</I>&gt;<i> port: 30002
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/lib/x2go/x2gogetports[5118]: db_getports
</I>&gt;<i> called, server: Ashton; return value: |30001| |30002|
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/lib/x2go/x2goinsertport[5132]: db_insertport
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24, server: Ashton, SSH
</I>&gt;<i> port: 30003
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/bin/x2gofeature: x2gofeature called with
</I>&gt;<i> options: X2GO_RUN_EXTENSIONS
</I>&gt;<i> Jul 28 14:19:03 Ashton
</I>&gt;<i> /usr/share/x2go/x2gofeature.d/x2goserver-extensions.features:
</I>&gt;<i> x2goserver-extensions.features called with options: X2GO_RUN_EXTENSIONS
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/bin/x2goserver-run-extensions:
</I>&gt;<i> x2goserver-run-extensions called with options:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24 pre-start
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/bin/x2gostartagent: successfully started X2Go
</I>&gt;<i> agent session with ID roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/bin/x2gofeature: x2gofeature called with
</I>&gt;<i> options: X2GO_RUN_EXTENSIONS
</I>&gt;<i> Jul 28 14:19:03 Ashton
</I>&gt;<i> /usr/share/x2go/x2gofeature.d/x2goserver-extensions.features:
</I>&gt;<i> x2goserver-extensions.features called with options: X2GO_RUN_EXTENSIONS
</I>&gt;<i> Jul 28 14:19:03 Ashton /usr/bin/x2goserver-run-extensions:
</I>&gt;<i> x2goserver-run-extensions called with options:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24 post-start
</I>&gt;<i> Jul 28 14:19:04 Ashton /usr/lib/x2go/x2gocreatesession[5210]:
</I>&gt;<i> db_createsession called, session ID: roland-50-1375013942_stDUNITY_dp24,
</I>&gt;<i> cookie: 8f9f6270723f48e0a98a21254639cf9a, client: 105.236.170.173, pid:
</I>&gt;<i> 5177, graphics port: 30001, sound port: 30002, file sharing port: 30003
</I>&gt;<i> Jul 28 14:19:04 Ashton /usr/bin/x2gostartagent: blocking creation of
</I>&gt;<i> agent's keyboard file
</I>&gt;<i> /home/roland/.x2go/C-roland-50-1375013942_stDUNITY_dp24/keyboard as
</I>&gt;<i> requested by session startup command
</I>&gt;<i> Jul 28 14:19:10 Ashton /usr/bin/x2gocmdexitmessage: x2gocmdexitmessage
</I>&gt;<i> called with options: roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/lib/x2go/x2gochangestatus[5660]:
</I>&gt;<i> db_changestatus called, session ID: roland-50-1375013942_stDUNITY_dp24, new
</I>&gt;<i> status: F
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/sbin/x2gocleansessions[3457]:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24, pid 5177 does not exist, changing
</I>&gt;<i> status from R to F
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/sbin/x2gocleansessions[3457]:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24: unmounting all shares
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/bin/x2goumount-session[5683]:
</I>&gt;<i> x2goumount-session has been called with options:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/bin/x2goumount-session[5683]: db_getdisplay
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24; return value: 50
</I>&gt;<i> Jul 28 14:19:54 Ashton /usr/bin/x2goumount-session[5683]: db_getmounts
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24; return value:
</I>&gt;<i> Jul 28 14:19:56 Ashton /usr/lib/x2go/x2golistsessions_sql[5699]:
</I>&gt;<i> dbsys_deletemounts called, session ID: roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:56 Ashton /usr/lib/x2go/x2golistsessions_sql[5699]: Purging
</I>&gt;<i> finished session from X2Go db, session ID:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:56 Ashton /usr/sbin/x2gocleansessions[3457]:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24 is blocked
</I>&gt;<i> Jul 28 14:19:56 Ashton /usr/sbin/x2gocleansessions[3457]:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24: unmounting all shares
</I>&gt;<i> Jul 28 14:19:57 Ashton /usr/bin/x2goumount-session[5718]:
</I>&gt;<i> x2goumount-session has been called with options:
</I>&gt;<i> roland-50-1375013942_stDUNITY_dp24
</I>&gt;<i> Jul 28 14:19:57 Ashton /usr/bin/x2goumount-session[5718]: db_getdisplay
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24; return value:
</I>&gt;<i> Jul 28 14:19:57 Ashton /usr/bin/x2goumount-session[5718]: db_getmounts
</I>&gt;<i> called, session ID: roland-50-1375013942_stDUNITY_dp24; return value:
</I>&gt;<i>
</I>&gt;<i> This problem has been persistent for a long time and I have not been able
</I>&gt;<i> to find any solution.
</I>&gt;<i>
</I>&gt;<i> I'd really appreciate if anyone would be able to help me find and fix this
</I>&gt;<i> issue.
</I>&gt;<i>
</I>&gt;<i> thanks again
</I>&gt;<i>
</I>&gt;<i> Roland
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  On 17/07/2013 11:18, Kjell Otto wrote:
</I>&gt;<i>
</I>&gt;<i>  Hey Roland,
</I>&gt;<i>
</I>&gt;<i> I'm sorry but I'm quite busy right now.
</I>&gt;<i> Following things to try:
</I>&gt;<i>
</I>&gt;<i> Kill all sessions on your server.
</I>&gt;<i> Use the root command to list all users sessions with:
</I>&gt;<i> sudo x2golistsessions_root
</I>&gt;<i> Delete all involved users .Xauthority files.
</I>&gt;<i> If you've got hanging sessions left, manually execute
</I>&gt;<i> x2goterminatesessions with the ID.
</I>&gt;<i> Make the x2goserver logging level to debug in /etc/x2go/x2xgoserver.conf
</I>&gt;<i> Reboot the machine.
</I>&gt;<i>
</I>&gt;<i>  I finally got around to trying this out tonight.  There are no sessions
</I>&gt;<i> running and I deleted all the .Xauthority file from the users' home
</I>&gt;<i> directories.
</I>&gt;<i> Then I rebooted.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Then open a new Master Session -&gt; KDE or xterm, whatever..
</I>&gt;<i>
</I>&gt;<i>  I've have searched high and low.  What is a new Master Session?  I
</I>&gt;<i> cannot find anything about it.  I have logged in on the server console,
</I>&gt;<i> but it makes not difference?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Use the root command again to make sure it's known by the x2goserver.
</I>&gt;<i> Then start the Shadow Session to the Master Session.
</I>&gt;<i>
</I>&gt;<i>  And of course, what is a Shadow Session?
</I>&gt;<i>
</I>&gt;<i> I'm not trying to connect to a logged-in user at this stage, I just want
</I>&gt;<i> to start a new X-session when I connect with x2goclient.
</I>&gt;<i>
</I>&gt;<i> thanks again
</I>&gt;<i>
</I>&gt;<i> Roland
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> X2Go-User mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">X2Go-User at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">https://lists.berlios.de/mailman/listinfo/x2go-user</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/x2go-user/attachments/20130729/d728c9f5/attachment.html">https://lists.berlios.de/pipermail/x2go-user/attachments/20130729/d728c9f5/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001529.html">[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.
</A></li>
	<LI>Next message: <A HREF="001532.html">[X2Go-User] Failure negotiating the session in stage '7'. Wrong version or invalid session authentication cookie.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1531">[ date ]</a>
              <a href="thread.html#1531">[ thread ]</a>
              <a href="subject.html#1531">[ subject ]</a>
              <a href="author.html#1531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-user">More information about the X2Go-User
mailing list</a><br>
</body></html>
