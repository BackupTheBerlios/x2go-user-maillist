<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-User] Problems setting print system in x2go
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-user/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20Problems%20setting%20print%20system%20in%20x2go&In-Reply-To=%3C1312421622.2756.13.camel%40denise.theartistscloset.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000300.html">
   <LINK REL="Next"  HREF="000335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-User] Problems setting print system in x2go</H1>
    <B>John A. Sullivan III</B> 
    <A HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20Problems%20setting%20print%20system%20in%20x2go&In-Reply-To=%3C1312421622.2756.13.camel%40denise.theartistscloset.com%3E"
       TITLE="[X2go-User] Problems setting print system in x2go">jsullivan at opensourcedevel.com
       </A><BR>
    <I>Thu Aug  4 03:33:42 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000300.html">[X2go-User] Problems setting print system in x2go
</A></li>
        <LI>Next message: <A HREF="000335.html">[X2go-User] Problems setting print system in x2go [Resolved]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2011-08-03 at 17:11 -0300, Mario OROZ wrote:
&gt;<i> El 02/08/2011 11:47 p.m., John A. Sullivan III escribi&#243;:
</I>&gt;<i> &gt; On Tue, 2011-08-02 at 17:10 -0300, Mario OROZ wrote: 
</I>&gt;<i> &gt;&gt; El 02/08/2011 03:20 p.m., John A. Sullivan III escribi&#243;:
</I>&gt;<i> &gt;&gt;&gt; On Tue, 2011-08-02 at 15:12 -0300, Mario OROZ wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt; El 02/08/2011 02:37 p.m., John A. Sullivan III escribi:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; On Mon, 2011-08-01 at 16:49 -0300, Mario OROZ wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Hello, I'm new to the list.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I use a server x2go on a Debian 6.0 with Windows XP clients.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I do not understand how to set the printing to print on printers on the client side.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I installed cups-x2go, and created a printer with cups cups-driver that provides
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; x2go.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I installed cups-x2go, and created a printer using the driver that provides
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; cups-x2go.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; On the client windows, menu Option / Settings / Printing tab is checked the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &quot;Show this dialog Before start printing&quot;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Can anyone tell me of some howto or explain how to configure the local client
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; printing from the server windows x2go
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Already, thanks
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; &lt;snip&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Hi, Mario.  Could you be a bit more detailed about where you are finding
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; the problem.  When you print from your X2Go desktop to the X2Go printer,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; what happens? Thanks - John
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; When I try to print from the client x2go desktop to the x2go printer nothings
</I>&gt;<i> &gt;&gt;&gt;&gt; happens!
</I>&gt;<i> &gt;&gt;&gt;&gt; The print job is queued in the spool of the x2go printer (cups
</I>&gt;<i> &gt;&gt;&gt;&gt; server), nothings happens from the client side!
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; What I need is to understand how to configure the printing system, on both the
</I>&gt;<i> &gt;&gt;&gt;&gt; client
</I>&gt;<i> &gt;&gt;&gt;&gt; and the server side, to achieve redirect the print jobs on the server side to
</I>&gt;<i> &gt;&gt;&gt;&gt; client's local printer.
</I>&gt;<i> &gt;&gt;&gt;&gt; I saw no documentation on this configuration.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; This is achievable with the current version of x2goserver/x2goprint/cups-x2go?
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Since then, thanks for your answer
</I>&gt;<i> &gt;&gt;&gt; &lt;snip&gt;
</I>&gt;<i> &gt;&gt;&gt; Is the cups server running on the X2Go server? 
</I>&gt;<i> &gt;&gt; Yes! x2go server and tne cups server are in the same PC.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If not, I believe it
</I>&gt;<i> &gt;&gt;&gt; needs the ability to SSH to it to transfer the file.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; The printing is also dependent upon sshfs working properly.  This should
</I>&gt;<i> &gt;&gt;&gt; be relatively automagic assuming it is not being blocked by Windows.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On the X2Go server side, if you issue a mount command, do you see a
</I>&gt;<i> &gt;&gt;&gt; print spool directory, e.g., 
</I>&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/x2go-user">sshuser at 127.0.0.1</A>:/cygdrive/C/DOCUME~1/MYID~1/X2GO~1/S-9270~1/spool
</I>&gt;<i> &gt;&gt;&gt; on /tmp/spool_myid/myid-63-1312305869_stDKDE_dp32 type fuse.sshfs
</I>&gt;<i> &gt;&gt;&gt; (rw,nosuid,nodev,max_read=65536,user=myid)
</I>&gt;<i> &gt;&gt; I can see this type of mount!
</I>&gt;<i> &gt;&gt; being logged in with my username, from the server in a console;  can change dir
</I>&gt;<i> &gt;&gt; to /tmp/spool_mario/mario-60-1312310981_stDGNOME_dp32
</I>&gt;<i> &gt;&gt; and I created 2 files in that directory:
</I>&gt;<i> &gt;&gt; $ Echo &quot;some text&quot;&gt; x.txt
</I>&gt;<i> &gt;&gt; $ Echo &quot;x.txt&quot;&gt; x.txt.ready
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On the client PC, the window for print for x2go emerged.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Pressing the print button gave an error:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Window Title: Printing error
</I>&gt;<i> &gt;&gt; Failed to execute command:
</I>&gt;<i> &gt;&gt; C:\Archivos de programa\GhostGum\gsview\gsprint.exe -query -color C:/Documents
</I>&gt;<i> &gt;&gt; and Settings/mario/.x2go/S-mario-60-1312310981_stDGNOME_dp32/spool/x.txt
</I>&gt;<i> &gt;&gt; [OK button]
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; But that is not important; for now!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The important thing is that apparently the print jobs are not placed / created
</I>&gt;<i> &gt;&gt; in the directory
</I>&gt;<i> &gt;&gt; /tmp/spool_mario/mario-60-1312310981_stDGNOME_dp32
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; why?
</I>&gt;<i> &gt; &lt;snip&gt;
</I>&gt;<i> &gt; I really don't know.  It has been quite a while since I setup X2Go
</I>&gt;<i> &gt; printing and our environment is very specialized.  If I recall
</I>&gt;<i> &gt; correctly, the X2Go print driver is a script or somewhere there is a
</I>&gt;<i> &gt; script involved which places the files in the appropriate tmp directory.
</I>&gt;<i> &gt; Is there any chance that script is not executable?
</I>&gt;<i> 
</I>&gt;<i> 1 - I do not know perl!
</I>&gt;<i> 
</I>&gt;<i> The script / usr/lib/cups/backend/cups-x2go making the task of printing has
</I>&gt;<i> permissions 0700 and owned by root and group is root
</I>&gt;<i> 
</I>&gt;<i> Reading the script I can see references to a user x2goprint, that is not created
</I>&gt;<i> on my system.
</I>&gt;<i> Instead it is added to the file / etc / sudoers
</I>&gt;<i> 
</I>&gt;<i> What we still do not recognize is how backen detects user's (not x2goprint user
</I>&gt;<i> $spooldir) spool directory:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; You may wish to find that script and edit it by adding some debug
</I>&gt;<i> &gt; information.  I usually add a logger command to send output or simply
</I>&gt;<i> &gt; statements about where I am in the script to the syslog.  This way, you
</I>&gt;<i> &gt; can find out where the script is breaking.  Hope that helps - John
</I>&gt;<i> 
</I>&gt;<i> How can i debug. What are those statement to make the script log to syslog?
</I>&gt;<i> 
</I>&lt;snip&gt;
Something like
logger -t &quot;X2GoPrint &quot; &quot;I at at such and such a point in the script&quot;

As I mentioned, it is a long time since I've set up x2go printing and,
although we highly customized it, it was pretty straightforward.  You
might want to doublecheck the instructions and see if you missed
anything.  Good luck - John


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000300.html">[X2go-User] Problems setting print system in x2go
</A></li>
	<LI>Next message: <A HREF="000335.html">[X2go-User] Problems setting print system in x2go [Resolved]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#302">[ date ]</a>
              <a href="thread.html#302">[ thread ]</a>
              <a href="subject.html#302">[ subject ]</a>
              <a href="author.html#302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-user">More information about the X2Go-User
mailing list</a><br>
</body></html>
