<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [X2go-User] Problem Using Cloned Accounts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/x2go-user/2012-February/index.html" >
   <LINK REL="made" HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20Problem%20Using%20Cloned%20Accounts&In-Reply-To=%3C4F3220C0.2080106%40tranquil-it-systems.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000594.html">
   <LINK REL="Next"  HREF="000596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[X2go-User] Problem Using Cloned Accounts</H1>
    <B>Denis Cardon</B> 
    <A HREF="mailto:x2go-user%40lists.berlios.de?Subject=Re%3A%20%5BX2go-User%5D%20Problem%20Using%20Cloned%20Accounts&In-Reply-To=%3C4F3220C0.2080106%40tranquil-it-systems.fr%3E"
       TITLE="[X2go-User] Problem Using Cloned Accounts">denis.cardon at tranquil-it-systems.fr
       </A><BR>
    <I>Wed Feb  8 08:14:08 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000594.html">[X2go-User] Problem Using Cloned Accounts
</A></li>
        <LI>Next message: <A HREF="000596.html">[X2go-User] x2goagent listening on public interface - how to make	it listen on 127.0.0.1 only?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ted,

&gt;<i> We're trying to see if we can get x2go to work on _cloned accounts_ or
</I>&gt;<i> ones we create via bash on an Ubuntu server. FYI - we can start x2go
</I>&gt;<i> sessions successfully if we create a new user &quot;the normal way&quot; (i.e., by
</I>&gt;<i> hand using the GUI), create the SSH keys and move them between client
</I>&gt;<i> (windows) and server.
</I>&gt;<i>
</I>&gt;<i> When we try, however, to create a new user account on the server
</I>&gt;<i> &quot;programmatically&quot; (either brand new or cloned), we consistently get an
</I>&gt;<i> error which happens regardless of the technique we use. As best we can
</I>&gt;<i> tell, the cloned or programmatically created accounts function fine and
</I>&gt;<i> as we'd expect except when we try to connect via x2go.
</I>&gt;<i>
</I>&gt;<i> For example, as root we create an account with &quot;useradd - d
</I>&gt;<i> /home/&lt;newusername&gt; -m --skel /etc/skel &lt;newusername&gt; (we've also tried
</I>&gt;<i> to use the same command but clone an account that works with x2go, and
</I>&gt;<i> have tried a range of other bash &quot;create/clone&quot; code).
</I>&gt;<i>
</I>&gt;<i> The connection is made, we see the black screen with &quot;X2GO&quot; and then the
</I>&gt;<i> screen goes black and stays that way. Is this the same problem we've
</I>&gt;<i> seen on some of the &quot;black screen&quot; posts?
</I>
have you checked that the default bash for your new users is /bin/bash. 
In recent distribution, /bin/sh is a symlink to dash for performance 
reason (it is a striped down shell), and it is not compatible with x2go. 
I had this issue a few times already.

Hope this help,

Denis


&gt;<i>
</I>&gt;<i> When we quit, we get an error message:
</I>&gt;<i>
</I>&gt;<i> Connection failed head: cannot open
</I>&gt;<i> /home/&lt;username&gt;/.x2go/C-XXXXXXXXXXX_stDGNOME-dp32/cmdoutput' for
</I>&gt;<i> reading: No such file or directory sed: -e expression #1, char 4:
</I>&gt;<i> unterminated 's' command cat:
</I>&gt;<i>
</I>&gt;<i>  From reading the error message, it looks like somehow a &quot;cmdoutput&quot;
</I>&gt;<i> file or folder is missing which we don't fine on the working account, so
</I>&gt;<i> maybe it's written out on the fly.
</I>&gt;<i>
</I>&gt;<i> Is this a permissions issue? We think we are doing everything
</I>&gt;<i> &quot;identically&quot; with the exception of how we are creating the account
</I>&gt;<i> (e.g., how we create the ssh keys, copy the id_dsa.pub in authorized
</I>&gt;<i> keys, add the new user to sshd_config, restart ssh). We've tried
</I>&gt;<i> comparing the permissions in the two accounts, but are not sure if that
</I>&gt;<i> is even the issue.
</I>&gt;<i>
</I>&gt;<i> We've checked in our user settings via the GUI and none of the users
</I>&gt;<i> we've added --either programmatically or through the GUI--are checked in
</I>&gt;<i> the x2go group though all are listed there and it doesn't seem to matter
</I>&gt;<i> if we check them.
</I>&gt;<i>
</I>&gt;<i> When we create a new user/account &quot;programmatically&quot;, would this cause
</I>&gt;<i> problems with the x2go set up for that account?
</I>&gt;<i>
</I>&gt;<i> Any help appreciated!
</I>&gt;<i>
</I>&gt;<i> Ted
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This body part will be downloaded on demand.
</I>

-- 
Denis Cardon
Tranquil IT Systems
44 bvd des pas enchant&#233;s
44230 Saint S&#233;bastien sur Loire
tel : +33 (0) 2.40.97.57.57
<A HREF="http://www.tranquil-it-systems.fr">http://www.tranquil-it-systems.fr</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000594.html">[X2go-User] Problem Using Cloned Accounts
</A></li>
	<LI>Next message: <A HREF="000596.html">[X2go-User] x2goagent listening on public interface - how to make	it listen on 127.0.0.1 only?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#595">[ date ]</a>
              <a href="thread.html#595">[ thread ]</a>
              <a href="subject.html#595">[ subject ]</a>
              <a href="author.html#595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/x2go-user">More information about the X2Go-User
mailing list</a><br>
</body></html>
